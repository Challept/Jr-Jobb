<!DOCTYPE html>
<html lang="sv">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hitta jobb - JrJobb</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        /* Förhindrar kopiering av text */
        body {
            user-select: none; /* Gör att text inte kan markeras och kopieras */
        }
        .phone-number {
            user-select: text; /* Gör att telefonnummer fortfarande kan markeras och kopieras */
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Tillgängliga jobb</h1>
        </header>
        <div id="job-list">
            <!-- Jobben kommer att visas här -->
        </div>
    </div>

    <script>
        function blurAddressNumber(address) {
            return address.replace(/\d+/g, '<span class="blur-text">$&</span>'); // Blur för nummer i adress
        }

        function loadJobs() {
            const jobs = JSON.parse(localStorage.getItem('jobs')) || [];
            const jobList = document.getElementById('job-list');

            if (jobs.length === 0) {
                jobList.innerHTML = "<p>Inga jobb tillgängliga just nu.</p>";
                return;
            }

            jobs.forEach((job) => {
                const blurredAddress = blurAddressNumber(job.address);
                const jobElement = document.createElement('div');
                jobElement.className = 'job-card';
                jobElement.innerHTML = `
                    <h3>${job.task}</h3>
                    <p><strong>Telefon:</strong> <span class="phone-number">${job.phone}</span></p>
                    <p><strong>Adress:</strong> ${blurredAddress}</p>
                    <p><strong>Pris:</strong> ${job.price} kr</p>
                `;
                jobList.appendChild(jobElement);
            });
        }

        window.onload = loadJobs;
    </script>
</body>
</html>
